import{_ as L,r as t,o as C,e as g,w as l,a as e,b as a,d as i,c as D,t as u,j as A,m as H,K as Q,S as E,F as R,i as q}from"./index-2006f269.js";import{A as z}from"./AddClient-421475f7.js";import{P as F}from"./Paginador-8381f521.js";import{a as P,c as O}from"./format-date-ea6389fa.js";import{w as j,c as G,m as K,v as $}from"./phone-dd19b05b.js";import"./input-45862cdb.js";import"./InputPhone-560f6b25.js";const J={emits:["visible"],props:{visible:{type:Boolean,default:!1},data:{type:Object,default:null}},methods:{getTime:P,convertDate:O,whatsapp:j,call:G,mail:K},components:{vueQr:$}},U={class:"row g-3"},W={class:"col-12 col-md-12"},X={key:0,class:"card-user"},Y={class:"code"},Z={class:"nombre"},ee={class:"detalle text-end"};function le(s,o,c,M,d,f){const p=t("CModalTitle"),b=t("CModalHeader"),I=t("vue-qr"),r=t("CIcon"),m=t("CButton"),N=t("CModalBody"),_=t("CModalFooter"),v=t("CModal");return C(),g(v,{alignment:"center",visible:c.visible,backdrop:"static",size:"sm",onClose:o[4]||(o[4]=()=>{s.$emit("visible",!1)})},{default:l(()=>[e(b,null,{default:l(()=>[e(p,null,{default:l(()=>[a("HISTORIAL DE REGISTRO ")]),_:1})]),_:1}),e(N,null,{default:l(()=>{var h,y,T,k,B,S,w;return[i("div",U,[i("div",W,[c.data?(C(),D("div",X,[e(I,{text:(h=c.data)==null?void 0:h.code,size:150},null,8,["text"]),i("div",Y,"Codigo: "+u((y=c.data)==null?void 0:y.code),1),i("div",Z,u((T=c.data)==null?void 0:T.name)+" "+u(((k=c.data)==null?void 0:k.lastName)||""),1),i("div",ee,[e(m,{color:"success",class:"ms-2 btn-social",disabled:!((B=c.data)!=null&&B.phone),onClick:o[0]||(o[0]=n=>f.whatsapp(c.data.phone))},{default:l(()=>[e(r,{icon:"cib-whatsapp",height:"22"})]),_:1},8,["disabled"]),e(m,{color:"secondary",class:"ms-2 btn-social",disabled:!((S=c.data)!=null&&S.phone),onClick:o[1]||(o[1]=n=>f.call(c.data.phone))},{default:l(()=>[e(r,{icon:"cil-phone",height:"22"})]),_:1},8,["disabled"]),e(m,{color:"info",class:"ms-2 btn-social",disabled:!((w=c.data)!=null&&w.email),onClick:o[2]||(o[2]=n=>f.mail(c.data.email))},{default:l(()=>[e(r,{icon:"cil-envelope-closed",height:"22"})]),_:1},8,["disabled"])])])):A("",!0)])])]}),_:1}),e(_,null,{default:l(()=>[e(m,{color:"primary",type:"button",onClick:o[3]||(o[3]=h=>s.$emit("visible",!1))},{default:l(()=>[a(" Aceptar ")]),_:1})]),_:1})]),_:1},8,["visible"])}const te=L(J,[["render",le],["__scopeId","data-v-e1f4fc76"]]),oe={components:{AddClient:z,Paginador:F,QrClient:te},data(){return{modalVisible:!1,paramsSelected:null,listFilter:[],modaLQr:!1}},computed:{...H("client",["list","isLoading"])},mounted(){this.list.length<=0&&this.loadData()},methods:{...Q("client",["loadData"]),setItem(s){this.modalVisible=!0,setTimeout(()=>{this.paramsSelected=s},300)},msgDelete(s){E.fire({title:`Â¿Desea eliminar el cliente ${s.name} ${s.lastName||""}?`,icon:"question",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#bdbdbd",confirmButtonText:"ELIMINAR",cancelButtonText:"CANCELAR"}).then(o=>{o.isConfirmed&&this.$store.dispatch("client/remove",s.id)})},openQr(s){this.paramsSelected=s,this.modaLQr=!0}}},ne={class:"row"},se={class:"col col-sm-12"},ae={class:"row"},ce=i("div",{class:"col col-sm-6"},[i("h4",{class:"mt-1"},[i("strong",null,"CLIENTES")])],-1),ie={class:"col col-sm-6 text-end"},de=i("h6",null,"No hay registros!",-1),re={class:"col col-sm-12"};function _e(s,o,c,M,d,f){const p=t("CIcon"),b=t("CButton"),I=t("CCardHeader"),r=t("CTableHeaderCell"),m=t("CTableRow"),N=t("CTableHead"),_=t("CTableDataCell"),v=t("CTableBody"),h=t("CSpinner"),y=t("CTable"),T=t("Paginador"),k=t("CCardBody"),B=t("CCard"),S=t("add-client"),w=t("qr-client");return C(),D("div",ne,[i("div",se,[e(B,{class:"mb-4"},{default:l(()=>[e(I,null,{default:l(()=>[i("div",ae,[ce,i("div",ie,[e(b,{color:"primary",size:"md",class:"me-1",onClick:o[0]||(o[0]=n=>(d.modalVisible=!0,d.paramsSelected=null))},{default:l(()=>[e(p,{icon:"cil-plus",class:"me-2"}),a(" Nuevo ")]),_:1})])])]),_:1}),e(k,null,{default:l(()=>[e(y,{responsive:""},{default:l(()=>[e(N,null,{default:l(()=>[e(m,null,{default:l(()=>[e(r,{scope:"col"},{default:l(()=>[a("Nombre")]),_:1}),e(r,{scope:"col"},{default:l(()=>[a("Correo")]),_:1}),e(r,{scope:"col"},{default:l(()=>[a("Celular")]),_:1}),e(r,{scope:"col"},{default:l(()=>[a("Doc. Identidad")]),_:1}),e(r,{scope:"col"},{default:l(()=>[a("Codigo")]),_:1}),e(r,{scope:"col"},{default:l(()=>[a("Acciones")]),_:1})]),_:1})]),_:1}),s.list.length>0?(C(),g(v,{key:0},{default:l(()=>[(C(!0),D(R,null,q(s.list,(n,x)=>(C(),g(m,{key:x},{default:l(()=>[e(_,{scope:"row"},{default:l(()=>[a(u(n.name)+" "+u(n.lastName),1)]),_:2},1024),e(_,null,{default:l(()=>[a(u(n.email),1)]),_:2},1024),e(_,null,{default:l(()=>[a(u(n.phone),1)]),_:2},1024),e(_,null,{default:l(()=>[a(u(n.ci),1)]),_:2},1024),e(_,null,{default:l(()=>[a(u(n.code),1)]),_:2},1024),e(_,null,{default:l(()=>[e(b,{color:"warning",size:"sm",class:"me-1",onClick:V=>f.openQr(n)},{default:l(()=>[e(p,{icon:"cil-qr-code"})]),_:2},1032,["onClick"]),e(b,{color:"info",size:"sm",class:"me-1",onClick:V=>f.setItem(n)},{default:l(()=>[e(p,{icon:"cil-pencil"})]),_:2},1032,["onClick"]),e(b,{color:"danger",size:"sm",onClick:V=>f.msgDelete(n)},{default:l(()=>[e(p,{icon:"cil-trash"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})):s.isLoading?(C(),g(v,{key:1},{default:l(()=>[e(m,null,{default:l(()=>[e(_,{colspan:"7",class:"text-center p-4"},{default:l(()=>[e(h,{color:"primary"})]),_:1})]),_:1})]),_:1})):(C(),g(v,{key:2},{default:l(()=>[e(m,null,{default:l(()=>[e(_,{colspan:"7",class:"text-center p-4"},{default:l(()=>[de]),_:1})]),_:1})]),_:1}))]),_:1}),e(T,{list:s.list,elementosPorPagina:10,onSetData:o[1]||(o[1]=n=>d.listFilter=n)},null,8,["list"])]),_:1})]),_:1})]),i("div",re,[e(S,{visible:d.modalVisible,client:d.paramsSelected,onVisible:o[2]||(o[2]=n=>{d.modalVisible=n,d.paramsSelected=null})},null,8,["visible","client"]),e(w,{visible:d.modaLQr,data:d.paramsSelected,onVisible:o[3]||(o[3]=n=>d.modaLQr=n)},null,8,["visible","data"])])])}const he=L(oe,[["render",_e]]);export{he as default};
