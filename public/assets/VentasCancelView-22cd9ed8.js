import{_ as S,K as k,r as o,c as h,d as _,a as t,w as e,o as d,b as l,e as f,F as x,i as V,t as c}from"./index-2006f269.js";import{P as F}from"./Paginador-8381f521.js";import{c as H}from"./format-date-ea6389fa.js";const L={components:{Paginador:F},data(){return{list:[],isLoading:!1,listFilter:[]}},async mounted(){this.list.length<=0&&(this.isLoading=!0,this.list=await this.loadCanceled(),this.isLoading=!1)},methods:{convertDate:H,...k("venta",["loadCanceled"]),getPermissions(g){const C=this.$store.getters["auth/getUser"]();return!g.includes(C.rol)}}},A={class:"row"},E={class:"col col-sm-12"},R=_("div",{class:"row"},[_("div",{class:"col col-sm-12"},[_("h4",{class:"mt-1"},[_("strong",null,"REGISTROS DE VENTAS CANCELADAS")])])],-1),U=_("h6",null,"No hay registros!",-1);function j(g,C,z,G,i,T){const b=o("CCardHeader"),r=o("CTableHeaderCell"),p=o("CTableRow"),y=o("CTableHead"),n=o("CTableDataCell"),m=o("CTableBody"),w=o("CSpinner"),P=o("CTable"),v=o("Paginador"),B=o("CCardBody"),D=o("CCard");return d(),h("div",A,[_("div",E,[t(D,{class:"mb-4"},{default:e(()=>[t(b,null,{default:e(()=>[R]),_:1}),t(B,null,{default:e(()=>[t(P,{responsive:"",size:"sm"},{default:e(()=>[t(y,null,{default:e(()=>[t(p,null,{default:e(()=>[t(r,{scope:"col"},{default:e(()=>[l("Cliente")]),_:1}),t(r,{scope:"col"},{default:e(()=>[l("Codigo")]),_:1}),t(r,{scope:"col"},{default:e(()=>[l("Total")]),_:1}),t(r,{scope:"col"},{default:e(()=>[l("Productos")]),_:1}),t(r,{scope:"col"},{default:e(()=>[l("Fecha")]),_:1}),t(r,{scope:"col"},{default:e(()=>[l("Usuario")]),_:1})]),_:1})]),_:1}),i.list.length>0?(d(),f(m,{key:0},{default:e(()=>[(d(!0),h(x,null,V(i.listFilter,(a,N)=>(d(),f(p,{key:N},{default:e(()=>[t(n,{scope:"row"},{default:e(()=>{var s,u;return[l(c((s=a.Client)==null?void 0:s.name)+" "+c((u=a.Client)==null?void 0:u.lastName),1)]}),_:2},1024),t(n,null,{default:e(()=>{var s;return[l(c((s=a.Client)==null?void 0:s.code),1)]}),_:2},1024),t(n,null,{default:e(()=>[l(c(a.total),1)]),_:2},1024),t(n,null,{default:e(()=>[l(c(a.VentaProducts.map(s=>s.Product.name).join(", ")),1)]),_:2},1024),t(n,null,{default:e(()=>[l(c(T.convertDate(a.date)),1)]),_:2},1024),t(n,{scope:"row"},{default:e(()=>{var s,u;return[l(c((s=a.User)==null?void 0:s.name)+" "+c((u=a.User)==null?void 0:u.lastName),1)]}),_:2},1024)]),_:2},1024))),128))]),_:1})):i.isLoading?(d(),f(m,{key:1},{default:e(()=>[t(p,null,{default:e(()=>[t(n,{colspan:"9",class:"text-center p-4"},{default:e(()=>[t(w,{color:"primary"})]),_:1})]),_:1})]),_:1})):(d(),f(m,{key:2},{default:e(()=>[t(p,null,{default:e(()=>[t(n,{colspan:"9",class:"text-center p-4"},{default:e(()=>[U]),_:1})]),_:1})]),_:1}))]),_:1}),t(v,{list:i.list,elementosPorPagina:10,onSetData:C[0]||(C[0]=a=>i.listFilter=a)},null,8,["list"])]),_:1})]),_:1})])])}const q=S(L,[["render",j]]);export{q as default};
