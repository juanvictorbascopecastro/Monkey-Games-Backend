import{N,K as k,O,_ as P,r as a,o as u,c as g,d as p,a as e,w as t,b as s,e as m,F as T,i as S,t as r,L as A,M as D}from"./index-67878955.js";import{c as M}from"./format-date-ea6389fa.js";import{P as G}from"./Paginador-d0e0f757.js";const L={props:{data:{type:Object,default:null}},data(){return{isLoading:!1,list:[],COIN:N,total:0,listFilter:[]}},methods:{...k("arqueo",["movement"]),convertDate:M,getPermissions(o,l){const n=this.$store.getters["auth/getUser"]();return!o.includes(n.rol)}},watch:{data:{immediate:!0,async handler(o){if(o){const{total:l,list:n}=await this.movement(o);Array.isArray(n)&&(this.list=n),l&&(this.total=l)}}},"$store.state.caja.caja":{immediate:!0,async handler(o){if(!this.data&&o){if(!o){O("warning");return}if(!this.data&&o.idOpened&&this.list.length<=0){const{total:l,list:n}=await this.movement();Array.isArray(n)&&(this.list=n),l&&(this.total=l)}}else this.data||(this.list=[],this.listFilter=[])}}},components:{Paginador:G}},H=o=>(A("data-v-c9ad2290"),o=o(),D(),o),V={class:"col-12"},z=H(()=>p("h6",null,"No hay registros!",-1)),R={class:"col-12 row"},U={class:"col-12 col-sm-6"},q={class:"col-12 col-sm-6"};function E(o,l,n,K,c,y){const d=a("CTableHeaderCell"),f=a("CTableRow"),b=a("CTableHead"),_=a("CTableDataCell"),v=a("CBadge"),C=a("CTableBody"),w=a("CSpinner"),I=a("CTable"),h=a("CInputGroupText"),x=a("CFormInput"),F=a("CInputGroup"),j=a("Paginador");return u(),g(T,null,[p("div",V,[e(I,{responsive:""},{default:t(()=>[e(b,null,{default:t(()=>[e(f,null,{default:t(()=>[e(d,{scope:"col"},{default:t(()=>[s("Movimiento")]),_:1}),e(d,{scope:"col"},{default:t(()=>[s("Monto")]),_:1}),e(d,{scope:"col"},{default:t(()=>[s("Flujo")]),_:1}),e(d,{scope:"col"},{default:t(()=>[s("Fecha")]),_:1}),e(d,{scope:"col"},{default:t(()=>[s("Usuario")]),_:1})]),_:1})]),_:1}),c.list.length>0?(u(),m(C,{key:0},{default:t(()=>[(u(!0),g(T,null,S(c.listFilter,(i,B)=>(u(),m(f,{key:B},{default:t(()=>[e(d,{scope:"row"},{default:t(()=>[s(r(i.movement),1)]),_:2},1024),e(_,null,{default:t(()=>[s(r(i.total)+" "+r(c.COIN),1)]),_:2},1024),e(_,null,{default:t(()=>[e(v,{color:i.flujo==="Ingreso"?"success":"danger"},{default:t(()=>[s(r(i.flujo),1)]),_:2},1032,["color"])]),_:2},1024),e(_,null,{default:t(()=>[s(r(y.convertDate(i.date)),1)]),_:2},1024),e(_,null,{default:t(()=>[s(r(i.user),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})):c.isLoading?(u(),m(C,{key:1},{default:t(()=>[e(f,null,{default:t(()=>[e(_,{colspan:"7",class:"text-center p-4"},{default:t(()=>[e(w,{color:"primary"})]),_:1})]),_:1})]),_:1})):(u(),m(C,{key:2},{default:t(()=>[e(f,null,{default:t(()=>[e(_,{colspan:"7",class:"text-center p-4"},{default:t(()=>[z]),_:1})]),_:1})]),_:1}))]),_:1})]),p("div",R,[p("div",U,[e(F,{class:"mb-3",style:{"max-width":"250px"},size:"sm"},{default:t(()=>[e(h,{id:"inputGroup-sizing-sm"},{default:t(()=>[s("TOTAL:")]),_:1}),e(x,{disabled:"",value:c.total},null,8,["value"]),e(h,{id:"addon-wrapping"},{default:t(()=>[s(r(c.COIN),1)]),_:1})]),_:1})]),p("div",q,[e(j,{list:c.list,elementosPorPagina:10,onSetData:l[0]||(l[0]=i=>c.listFilter=i)},null,8,["list"])])])],64)}const X=P(L,[["render",E],["__scopeId","data-v-c9ad2290"]]);export{X as T};
