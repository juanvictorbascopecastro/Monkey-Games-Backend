import{_ as L,K as N,S as F,r as l,c as g,a as t,w as e,F as h,o as c,b as o,e as i,i as S,d as b,t as n}from"./index-2006f269.js";import{e as v,c as x}from"./format-date-ea6389fa.js";import{P as A}from"./Paginador-8381f521.js";const I={props:{inputDate:{default:v(new Date)}},data(){return{list:[],isLoading:!1,listFilter:[]}},async mounted(){this.list.length<=0&&(this.isLoading=!0,this.list=await this.loadFilter(this.inputDate),this.isLoading=!1)},methods:{convertDate:x,...N("almacen",["loadFilter"]),async changeDate(){this.isLoading=!0,console.log(this.inputDate),this.list=await this.loadFilter(this.inputDate),this.isLoading=!1},msgDelete(r){F.fire({title:`Â¿Esta seguro que desea cancelar el ingreso de ${r.Product.name}?`,icon:"question",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#bdbdbd",confirmButtonText:"CANCELAR",cancelButtonText:"NO CANCELAR"}).then(_=>{_.isConfirmed&&this.$store.dispatch("almacen/remove",r.id)})}},watch:{inputDate(r){this.changeDate()}},components:{Paginador:A}},E=["src"],H=b("h6",null,"No hay registros!",-1);function R(r,_,V,U,d,m){const u=l("CTableHeaderCell"),p=l("CTableRow"),D=l("CTableHead"),s=l("CTableDataCell"),f=l("CBadge"),T=l("CIcon"),B=l("CButton"),C=l("CTableBody"),y=l("CSpinner"),k=l("CTable"),w=l("Paginador");return c(),g(h,null,[t(k,{responsive:"",size:"sm"},{default:e(()=>[t(D,null,{default:e(()=>[t(p,null,{default:e(()=>[t(u,{scope:"col"},{default:e(()=>[o("Producto")]),_:1}),t(u,{scope:"col"},{default:e(()=>[o("Cantidad")]),_:1}),t(u,{scope:"col"},{default:e(()=>[o("Consto")]),_:1}),t(u,{scope:"col"},{default:e(()=>[o("Fecha")]),_:1}),t(u,{scope:"col"},{default:e(()=>[o("Usuario")]),_:1}),t(u,{scope:"col"},{default:e(()=>[o("Caja")]),_:1}),t(u,{scope:"col"},{default:e(()=>[o("Accion")]),_:1})]),_:1})]),_:1}),d.list.length>0?(c(),i(C,{key:0},{default:e(()=>[(c(!0),g(h,null,S(d.list,(a,P)=>(c(),i(p,{key:P},{default:e(()=>[t(s,{scope:"row",class:"p-0"},{default:e(()=>[b("img",{src:a.Product.image?r.$store.getters["product/getSrcImage"](a.Product):r.imageDefault,class:"image-table"},null,8,E),o(" "+n(a.Product.name),1)]),_:2},1024),t(s,null,{default:e(()=>[a.amount>10?(c(),i(f,{key:0,color:"success"},{default:e(()=>[o(n(a.amount)+" und.",1)]),_:2},1024)):a.amount<=10&&a.amount>0?(c(),i(f,{key:1,color:"warning"},{default:e(()=>[o(n(a.amount)+" und.",1)]),_:2},1024)):(c(),i(f,{key:2,color:"danger"},{default:e(()=>[o(n(a.amount)+" und.",1)]),_:2},1024))]),_:2},1024),t(s,null,{default:e(()=>[o(n(a.price)+" "+n(r.COIN),1)]),_:2},1024),t(s,null,{default:e(()=>[o(n(m.convertDate(a.date)),1)]),_:2},1024),t(s,null,{default:e(()=>[o(n(a.User.name)+" "+n(a.User.lastName||""),1)]),_:2},1024),t(s,null,{default:e(()=>[o(n(a.Caja.name),1)]),_:2},1024),t(s,null,{default:e(()=>[t(B,{color:"danger",size:"sm",class:"me-1",onClick:j=>m.msgDelete(a)},{default:e(()=>[t(T,{icon:"cil-trash"}),o(" Cancelar ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})):d.isLoading?(c(),i(C,{key:1},{default:e(()=>[t(p,null,{default:e(()=>[t(s,{colspan:"7",class:"text-center p-4"},{default:e(()=>[t(y,{color:"primary"})]),_:1})]),_:1})]),_:1})):(c(),i(C,{key:2},{default:e(()=>[t(p,null,{default:e(()=>[t(s,{colspan:"7",class:"text-center p-4"},{default:e(()=>[H]),_:1})]),_:1})]),_:1}))]),_:1}),t(w,{list:d.list,elementosPorPagina:10,onSetData:_[0]||(_[0]=a=>d.listFilter=a)},null,8,["list"])],64)}const K=L(I,[["render",R]]);export{K as default};
