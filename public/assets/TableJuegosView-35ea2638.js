import{_ as L,K as x,r as s,c as T,a as t,w as e,F as b,o as r,b as o,e as u,i as N,d as P,t as i}from"./index-0487b031.js";import{e as v,b as S,a as I}from"./format-date-ea6389fa.js";import{P as V}from"./Paginador-20b3a55a.js";const z={props:{inputDate:{default:v(new Date)}},data(){return{list:[],isLoading:!1,listFilter:[]}},async mounted(){this.list.length<=0&&(this.isLoading=!0,this.list=await this.loadFilter(this.inputDate),this.isLoading=!1)},methods:{getHours:S,getTime:I,...x("register",["loadFilter"]),async changeDate(){this.isLoading=!0,this.list=await this.loadFilter(this.inputDate),this.isLoading=!1}},watch:{inputDate(m){this.changeDate()}},components:{Paginador:V}},E=P("h6",null,"No hay registros!",-1);function U(m,g,A,R,d,f){const n=s("CTableHeaderCell"),p=s("CTableRow"),y=s("CTableHead"),a=s("CTableDataCell"),h=s("CBadge"),D=s("CIcon"),w=s("CButton"),C=s("CTableBody"),k=s("CSpinner"),B=s("CTable"),F=s("Paginador");return r(),T(b,null,[t(B,{responsive:"",size:"sm"},{default:e(()=>[t(y,null,{default:e(()=>[t(p,null,{default:e(()=>[t(n,{scope:"col"},{default:e(()=>[o("Cliente")]),_:1}),t(n,{scope:"col"},{default:e(()=>[o("Codigo")]),_:1}),t(n,{scope:"col"},{default:e(()=>[o("Hora Ingreso")]),_:1}),t(n,{scope:"col"},{default:e(()=>[o("Hora Salida")]),_:1}),t(n,{scope:"col"},{default:e(()=>[o("Tiempo solicitado")]),_:1}),t(n,{scope:"col"},{default:e(()=>[o("Tiempo ocupado")]),_:1}),t(n,{scope:"col"},{default:e(()=>[o("Estado")]),_:1}),t(n,{scope:"col"},{default:e(()=>[o("Usuario")]),_:1}),t(n,{scope:"col"},{default:e(()=>[o("Acciones")]),_:1})]),_:1})]),_:1}),d.list.length>0?(r(),u(C,{key:0},{default:e(()=>[(r(!0),T(b,null,N(d.listFilter,(l,H)=>(r(),u(p,{key:H},{default:e(()=>[t(a,{scope:"row"},{default:e(()=>{var c,_;return[o(i((c=l.Client)==null?void 0:c.name)+" "+i((_=l.Client)==null?void 0:_.lastName),1)]}),_:2},1024),t(a,null,{default:e(()=>{var c;return[o(i((c=l.Client)==null?void 0:c.code),1)]}),_:2},1024),t(a,null,{default:e(()=>[o(i(f.getHours(l.date)),1)]),_:2},1024),t(a,null,{default:e(()=>[o(i(f.getHours(l.endDate)),1)]),_:2},1024),t(a,null,{default:e(()=>[o(i(l.minutes)+" min",1)]),_:2},1024),t(a,null,{default:e(()=>[o(i(f.getTime(l)),1)]),_:2},1024),t(a,null,{default:e(()=>[l.status?(r(),u(h,{key:1,color:"secondary"},{default:e(()=>[o("Finalizado")]),_:1})):(r(),u(h,{key:0,color:"success"},{default:e(()=>[o(" En curso")]),_:1}))]),_:2},1024),t(a,{scope:"row"},{default:e(()=>{var c,_;return[o(i((c=l.User)==null?void 0:c.name)+" "+i((_=l.User)==null?void 0:_.lastName),1)]}),_:2},1024),t(a,null,{default:e(()=>[t(w,{class:"position-relative m-0",color:"info",size:"sm",onClick:c=>m.$router.push({name:"control-tiempos",query:{code:l.Client.code}})},{default:e(()=>[t(D,{icon:"cil-arrow-right"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})):d.isLoading?(r(),u(C,{key:1},{default:e(()=>[t(p,null,{default:e(()=>[t(a,{colspan:"9",class:"text-center p-4"},{default:e(()=>[t(k,{color:"primary"})]),_:1})]),_:1})]),_:1})):(r(),u(C,{key:2},{default:e(()=>[t(p,null,{default:e(()=>[t(a,{colspan:"9",class:"text-center p-4"},{default:e(()=>[E]),_:1})]),_:1})]),_:1}))]),_:1}),t(F,{list:d.list,elementosPorPagina:10,onSetData:g[0]||(g[0]=l=>d.listFilter=l)},null,8,["list"])],64)}const j=L(z,[["render",U]]);export{j as default};
