import{_ as S,N as k,K as x,r as a,c as h,d as i,a as t,w as e,o as _,b as l,e as f,F as V,i as F,t as n}from"./index-67878955.js";import{P as H}from"./Paginador-d0e0f757.js";import{c as L}from"./format-date-ea6389fa.js";const A={components:{Paginador:H},data(){return{list:[],isLoading:!1,listFilter:[],COIN:k}},async mounted(){this.list.length<=0&&(this.isLoading=!0,this.list=await this.loadCanceled(),this.isLoading=!1)},methods:{convertDate:L,...x("venta",["loadCanceled"]),getPermissions(g){const C=this.$store.getters["auth/getUser"]();return!g.includes(C.rol)}}},E={class:"row"},R={class:"col col-sm-12"},U=i("div",{class:"row"},[i("div",{class:"col col-sm-12"},[i("h4",{class:"mt-1"},[i("strong",null,"REGISTROS DE VENTAS CANCELADAS")])])],-1),I=i("h6",null,"No hay registros!",-1);function O(g,C,z,G,r,T){const b=a("CCardHeader"),d=a("CTableHeaderCell"),p=a("CTableRow"),y=a("CTableHead"),c=a("CTableDataCell"),m=a("CTableBody"),N=a("CSpinner"),w=a("CTable"),P=a("Paginador"),v=a("CCardBody"),B=a("CCard");return _(),h("div",E,[i("div",R,[t(B,{class:"mb-4"},{default:e(()=>[t(b,null,{default:e(()=>[U]),_:1}),t(v,null,{default:e(()=>[t(w,{responsive:"",size:"sm"},{default:e(()=>[t(y,null,{default:e(()=>[t(p,null,{default:e(()=>[t(d,{scope:"col"},{default:e(()=>[l("Cliente")]),_:1}),t(d,{scope:"col"},{default:e(()=>[l("Codigo")]),_:1}),t(d,{scope:"col"},{default:e(()=>[l("Total")]),_:1}),t(d,{scope:"col"},{default:e(()=>[l("Productos")]),_:1}),t(d,{scope:"col"},{default:e(()=>[l("Fecha")]),_:1}),t(d,{scope:"col"},{default:e(()=>[l("Usuario")]),_:1})]),_:1})]),_:1}),r.list.length>0?(_(),f(m,{key:0},{default:e(()=>[(_(!0),h(V,null,F(r.listFilter,(s,D)=>(_(),f(p,{key:D},{default:e(()=>[t(c,{scope:"row"},{default:e(()=>{var o,u;return[l(n((o=s.Client)==null?void 0:o.name)+" "+n((u=s.Client)==null?void 0:u.lastName),1)]}),_:2},1024),t(c,null,{default:e(()=>{var o;return[l(n((o=s.Client)==null?void 0:o.code),1)]}),_:2},1024),t(c,null,{default:e(()=>[l(n(s.total)+" "+n(r.COIN),1)]),_:2},1024),t(c,null,{default:e(()=>[l(n(s.VentaProducts.map(o=>`${o.amount}
                  ${o.Product.name}`).join(", ")),1)]),_:2},1024),t(c,null,{default:e(()=>[l(n(T.convertDate(s.date)),1)]),_:2},1024),t(c,{scope:"row"},{default:e(()=>{var o,u;return[l(n((o=s.User)==null?void 0:o.name)+" "+n((u=s.User)==null?void 0:u.lastName),1)]}),_:2},1024)]),_:2},1024))),128))]),_:1})):r.isLoading?(_(),f(m,{key:1},{default:e(()=>[t(p,null,{default:e(()=>[t(c,{colspan:"9",class:"text-center p-4"},{default:e(()=>[t(N,{color:"primary"})]),_:1})]),_:1})]),_:1})):(_(),f(m,{key:2},{default:e(()=>[t(p,null,{default:e(()=>[t(c,{colspan:"9",class:"text-center p-4"},{default:e(()=>[I]),_:1})]),_:1})]),_:1}))]),_:1}),t(P,{list:r.list,elementosPorPagina:10,onSetData:C[0]||(C[0]=s=>r.listFilter=s)},null,8,["list"])]),_:1})]),_:1})])])}const J=S(A,[["render",O]]);export{J as default};
